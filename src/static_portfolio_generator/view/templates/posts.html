{% extends "base.html" %}
{% block title %}Posts — {{ site_title }}{% endblock %}

{% block content %}
<section class="posts container">
    <h2 class="section-heading">Blog Posts</h2>
    <div class="post-list">
        {% if posts|length == 0 %}
        <p>No posts yet.</p>
        {% else %}
        {% for post in posts %}
        <article class="post-card">
            <h3><a href="{{ base_url }}/posts/{{ post.slug }}/">{{ post.title | safe | striptags }}</a></h3>

            {% if post.created_at or post.updated_at %}
            <div class="post-dates">
                {% if post.created_at %}Created: {{ post.created_at }}{% endif %}
                {% if post.updated_at and post.updated_at != post.created_at %} &nbsp;|&nbsp; Last updated: {{
                post.updated_at
                }}{% endif %}
            </div>
            {% endif %}

            {% if post.tags %}
            <div class="tags">
                {% for tag in post.tags %}
                <span class="tag">{{ tag }}</span>
                {% endfor %}
            </div>
            {% endif %}

            {% if post.summary_html %}
            <p class="summary">{{ post.summary_html | safe }}</p>
            {% endif %}

            <a class="read-more" href="{{ base_url }}/posts/{{ post.slug }}/">Read more →</a>
        </article>
        {% endfor %}
        {% endif %}
    </div>
</section>
{% endblock %}